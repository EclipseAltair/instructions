<Pod>.spec.topologySpreadConstraints - обеспечивает распределние подов по нодам, зонам доступности

# Задачи мониторинга
- StaticPod 
  - Лежат в /etc/kubernetes/manifests (оттуда запускаются самые первые, работают до API server)
  - Не управляются через kubectl
  - Изменяются прямо на ноде
  - Запускает kubelet еще до поднятия API server
- PodAntiAffinity
  - Позволяет запускать по одному поду на каждой ноде
  - При подключении новых нод не масштабируются, нужно запускать руками
- DaemonSet
  - количество реплик в daemon set равно количеству нод в кластере
  - при удалении ноды GarbidgeCollector удалят DaemonSet
- StatefulSet
  - позволяет запускать группу подов
    - гарантирует их уникальность
    - гарантирует их последовательность
  - PVC template - PVC создается для каждого StatefulSet
    - при даунскейле не удаляет PVC
    - при обратном скайле использует старый PVC, который был даунскейлен
  - сохраняет состояние, подохдит для
    - RabbitMQ
    - Redis
    - DBs
    - Kafka
    - ...
  - точно знаем названия подов (в названии порядковый номер)
  - Headless Service
    - сервис ведет на случайный под деплоймента
    - .spec.clusterIP: None (Headless)
    - в iptables правила трансляции не появляются, но появляются DNS записи
    - резолвится в IP всех эндпоинтов
    - создает записи с именами всех эндпоинтов
    - можно просматривать информацию по имени <pod>.<serviceName>
